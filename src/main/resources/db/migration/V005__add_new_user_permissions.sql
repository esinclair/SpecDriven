-- V005__add_new_user_permissions.sql
-- Add operation-level permissions as specified in the updated spec and assign to ADMIN role

-- Insert new permissions for user operations
INSERT INTO permissions (id, permission, description) VALUES
    ('00000000-0000-0000-0000-000000000021', 'USER_CREATE', 'Create new users'),
    ('00000000-0000-0000-0000-000000000022', 'USER_READ', 'Read user data'),
    ('00000000-0000-0000-0000-000000000023', 'USER_UPDATE', 'Update existing users'),
    ('00000000-0000-0000-0000-000000000024', 'USER_DELETE', 'Delete users'),
    ('00000000-0000-0000-0000-000000000025', 'USER_LIST', 'List users'),
    ('00000000-0000-0000-0000-000000000026', 'USER_ROLE_MANAGE', 'Assign and remove roles from users');

-- Assign all new permissions to ADMIN role
INSERT INTO role_permissions (role_id, permission_id) VALUES
    ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000021'), -- ADMIN -> USER_CREATE
    ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000022'), -- ADMIN -> USER_READ
    ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000023'), -- ADMIN -> USER_UPDATE
    ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000024'), -- ADMIN -> USER_DELETE
    ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000025'), -- ADMIN -> USER_LIST
    ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000026'); -- ADMIN -> USER_ROLE_MANAGE

-- Also give USER role read and list permissions
INSERT INTO role_permissions (role_id, permission_id) VALUES
    ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000022'), -- USER -> USER_READ
    ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000025'); -- USER -> USER_LIST

